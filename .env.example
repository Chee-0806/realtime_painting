# StreamDiffusion Backend 环境变量示例
# 复制此文件为 .env 并根据需要修改
# 
# 环境变量使用前缀 STREAMDIFFUSION_ 并使用双下划线 __ 表示嵌套
# 例如：STREAMDIFFUSION_MODEL__MODEL_ID 对应 model.model_id

# ============================================================
# 模型配置 (model)
# ============================================================

# 模型 ID 或本地路径
# STREAMDIFFUSION_MODEL__MODEL_ID=stabilityai/sd-turbo

# 加速方式：xformers | tensorrt | none
# STREAMDIFFUSION_MODEL__ACCELERATION=xformers

# TensorRT 引擎缓存目录
# STREAMDIFFUSION_MODEL__ENGINE_DIR=engines

# 是否启用 CUDA Graph（仅 TensorRT）
# STREAMDIFFUSION_MODEL__USE_CUDA_GRAPH=false

# ============================================================
# Pipeline 配置 (pipeline)
# ============================================================

# Pipeline 类型：img2img | txt2img | controlnet | inpainting
# STREAMDIFFUSION_PIPELINE__NAME=img2img

# 输入模式：image | video
# STREAMDIFFUSION_PIPELINE__MODE=image

# 生成图像尺寸（必须是 8 的倍数）
# STREAMDIFFUSION_PIPELINE__WIDTH=512
# STREAMDIFFUSION_PIPELINE__HEIGHT=512

# 是否使用 Tiny VAE
# STREAMDIFFUSION_PIPELINE__USE_TINY_VAE=true

# 是否使用 LCM LoRA
# STREAMDIFFUSION_PIPELINE__USE_LCM_LORA=true

# Warmup 步骤数
# STREAMDIFFUSION_PIPELINE__WARMUP=10

# 帧缓冲区大小
# STREAMDIFFUSION_PIPELINE__FRAME_BUFFER_SIZE=1

# 是否使用去噪批处理
# STREAMDIFFUSION_PIPELINE__USE_DENOISING_BATCH=true

# ============================================================
# 性能配置 (performance)
# ============================================================

# 是否启用相似图像过滤
# STREAMDIFFUSION_PERFORMANCE__ENABLE_SIMILAR_IMAGE_FILTER=false

# 相似度阈值（0-1）
# STREAMDIFFUSION_PERFORMANCE__SIMILAR_IMAGE_FILTER_THRESHOLD=0.98

# 最大跳帧数
# STREAMDIFFUSION_PERFORMANCE__SIMILAR_IMAGE_FILTER_MAX_SKIP_FRAME=10

# 图像流 JPEG 质量（1-100）
# STREAMDIFFUSION_PERFORMANCE__JPEG_QUALITY=85

# ============================================================
# 服务器配置 (server)
# ============================================================

# 服务器监听地址
# STREAMDIFFUSION_SERVER__HOST=0.0.0.0

# 服务器端口
# STREAMDIFFUSION_SERVER__PORT=8000

# 最大队列大小（0 表示无限制）
# STREAMDIFFUSION_SERVER__MAX_QUEUE_SIZE=0

# 会话超时（秒，0 表示无限制）
# STREAMDIFFUSION_SERVER__TIMEOUT=0

# 是否启用 NSFW 内容检测
# STREAMDIFFUSION_SERVER__USE_SAFETY_CHECKER=false

# ============================================================
# 日志配置 (logging)
# ============================================================

# 日志级别：DEBUG | INFO | WARNING | ERROR | CRITICAL
# STREAMDIFFUSION_LOGGING__LEVEL=INFO

# 日志格式：json | text
# STREAMDIFFUSION_LOGGING__FORMAT=json

# ============================================================
# 其他环境变量
# ============================================================

# Hugging Face Token（如果需要访问私有模型）
# HF_TOKEN=your_huggingface_token_here

# CUDA 设备
# CUDA_VISIBLE_DEVICES=0

# 配置文件路径（可选，默认为 app/config/config.yaml）
# STREAMDIFFUSION_CONFIG_FILE=app/config/config.yaml
