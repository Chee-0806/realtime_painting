# StreamDiffusion Backend 环境变量示例
# 复制此文件为 .env 并根据需要修改
#
# 环境变量使用前缀 STREAMDIFFUSION_ 并使用双下划线 __ 表示嵌套
# 例如：STREAMDIFFUSION_MODEL__MODEL_ID 对应 config.model.model_id

# ============================================================
# 核心配置 (core)
# ============================================================

# 模型配置
STREAMDIFFUSION_MODEL__MODEL_ID=stabilityai/sd-turbo

# 加速方式：xformers | tensorrt | none
STREAMDIFFUSION_MODEL__ACCELERATION=xformers

# 模型优化
STREAMDIFFUSION_MODEL__USE_TINY_VAE=true
STREAMDIFFUSION_MODEL__USE_LCM_LORA=true

# ============================================================
# 服务器配置 (server)
# ============================================================

# 服务器监听地址
STREAMDIFFUSION_SERVER__HOST=0.0.0.0

# 服务器端口
STREAMDIFFUSION_SERVER__PORT=8000

# 日志级别：DEBUG | INFO | WARNING | ERROR | CRITICAL
STREAMDIFFUSION_LOG_LEVEL=INFO

# ============================================================
# Canvas 画板配置
# ============================================================

# 生成参数
STREAMDIFFUSION_CANVAS_GENERATION__WIDTH=512
STREAMDIFFUSION_CANVAS_GENERATION__HEIGHT=512
STREAMDIFFUSION_CANVAS_GENERATION__STEPS=2
STREAMDIFFUSION_CANVAS_GENERATION__CFG_SCALE=2.0
STREAMDIFFUSION_CANVAS_GENERATION__DENOISE=0.3
STREAMDIFFUSION_CANVAS_GENERATION__SEED=502923423887318

# 文本配置
STREAMDIFFUSION_CANVAS_GENERATION__PROMPT=
STREAMDIFFUSION_CANVAS_GENERATION__NEGATIVE_PROMPT=

# 性能配置
STREAMDIFFUSION_CANVAS_PERFORMANCE__ENABLE_SIMILAR_IMAGE_FILTER=false
STREAMDIFFUSION_CANVAS_PERFORMANCE__JPEG_QUALITY=95
STREAMDIFFUSION_CANVAS_PERFORMANCE__WARMUP=10

# ============================================================
# Realtime 实时配置
# ============================================================

# 生成参数（继承canvas基础配置）
STREAMDIFFUSION_REALTIME_GENERATION__WIDTH=512
STREAMDIFFUSION_REALTIME_GENERATION__HEIGHT=512
STREAMDIFFUSION_REALTIME_GENERATION__STEPS=2
STREAMDIFFUSION_REALTIME_GENERATION__CFG_SCALE=2.0
STREAMDIFFUSION_REALTIME_GENERATION__DENOISE=0.3
STREAMDIFFUSION_REALTIME_GENERATION__SEED=502923423887318

# 文本配置
STREAMDIFFUSION_REALTIME_GENERATION__PROMPT=
STREAMDIFFUSION_REALTIME_GENERATION__NEGATIVE_PROMPT=

# 实时性能配置
STREAMDIFFUSION_REALTIME_PERFORMANCE__ENABLE_SIMILAR_IMAGE_FILTER=true
STREAMDIFFUSION_REALTIME_PERFORMANCE__SIMILAR_IMAGE_FILTER_THRESHOLD=0.98
STREAMDIFFUSION_REALTIME_PERFORMANCE__SIMILAR_IMAGE_FILTER_MAX_SKIP_FRAME=10
STREAMDIFFUSION_REALTIME_PERFORMANCE__JPEG_QUALITY=85
STREAMDIFFUSION_REALTIME_PERFORMANCE__MAX_FPS=30

# ============================================================
# Txt2Img 文本生成配置
# ============================================================

# 生成参数
STREAMDIFFUSION_TXT2IMG_GENERATION__WIDTH=512
STREAMDIFFUSION_TXT2IMG_GENERATION__HEIGHT=512
STREAMDIFFUSION_TXT2IMG_GENERATION__STEPS=4
STREAMDIFFUSION_TXT2IMG_GENERATION__CFG_SCALE=7.5
STREAMDIFFUSION_TXT2IMG_GENERATION__DENOISE=0.0
STREAMDIFFUSION_TXT2IMG_GENERATION__SEED=-1

# 文本配置
STREAMDIFFUSION_TXT2IMG_GENERATION__PROMPT=
STREAMDIFFUSION_TXT2IMG_GENERATION__NEGATIVE_PROMPT=

# 文本生成专用参数
STREAMDIFFUSION_TXT2IMG_GENERATION__GUIDANCE_SCALE=7.5

# 性能配置
STREAMDIFFUSION_TXT2IMG_PERFORMANCE__ENABLE_SIMILAR_IMAGE_FILTER=false
STREAMDIFFUSION_TXT2IMG_PERFORMANCE__JPEG_QUALITY=90
STREAMDIFFUSION_TXT2IMG_PERFORMANCE__WARMUP=10