import{s as me,a as x,f as p,l as z,O as _e,d,c as w,g as m,h as C,u as P,m as G,j as o,i as T,v as a,n as $,C as R,o as Fe,F as ve,H as ie,w as j,E as pe,e as ae,D as oe}from"../chunks/scheduler.ae4f2bff.js";import{S as be,i as De}from"../chunks/index.92b2b836.js";function ce(i){let e,t,u="è¯·è¾“å…¥ç”»æ¿åº”ç”¨çš„ User IDï¼š",l,r,n,s,c,h,F,k,b,M="æç¤ºï¼šåœ¨ç”»æ¿åº”ç”¨ä¸­è¿æ¥æœåŠ¡å™¨åï¼Œä¼šæ˜¾ç¤º User IDï¼Œè¯·å¤åˆ¶å¹¶ç²˜è´´åˆ°è¿™é‡Œ",y,U;return{c(){e=p("div"),t=p("label"),t.textContent=u,l=x(),r=p("div"),n=p("input"),s=x(),c=p("button"),h=z("è¿æ¥"),k=x(),b=p("p"),b.textContent=M,this.h()},l(_){e=m(_,"DIV",{class:!0});var v=C(e);t=m(v,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(t)!=="svelte-525t44"&&(t.textContent=u),l=w(v),r=m(v,"DIV",{class:!0});var H=C(r);n=m(H,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),s=w(H),c=m(H,"BUTTON",{class:!0});var A=C(c);h=G(A,"è¿æ¥"),A.forEach(d),H.forEach(d),k=w(v),b=m(v,"P",{class:!0,"data-svelte-h":!0}),P(b)!=="svelte-1wqhgxw"&&(b.textContent=M),v.forEach(d),this.h()},h(){o(t,"for","userIdInput"),o(t,"class","label"),o(n,"id","userIdInput"),o(n,"type","text"),o(n,"placeholder","ä»ç”»æ¿åº”ç”¨å¤åˆ¶ User ID"),o(n,"class","input flex-1"),c.disabled=F=!i[3].trim()||!!i[0],o(c,"class","btn-primary"),o(r,"class","flex gap-3"),o(b,"class","text-xs text-text-tertiary mt-3"),o(e,"class","card-compact mb-6")},m(_,v){T(_,e,v),a(e,t),a(e,l),a(e,r),a(r,n),ie(n,i[3]),a(r,s),a(r,c),a(c,h),a(e,k),a(e,b),y||(U=[j(n,"input",i[11]),j(n,"keydown",i[12]),j(c,"click",i[7])],y=!0)},p(_,v){v&8&&n.value!==_[3]&&ie(n,_[3]),v&9&&F!==(F=!_[3].trim()||!!_[0])&&(c.disabled=F)},d(_){_&&d(e),y=!1,pe(U)}}}function fe(i){let e,t,u=i[2].slice(0,8)+"",l,r;return{c(){e=p("div"),t=z("User ID: "),l=z(u),r=z("..."),this.h()},l(n){e=m(n,"DIV",{class:!0});var s=C(e);t=G(s,"User ID: "),l=G(s,u),r=G(s,"..."),s.forEach(d),this.h()},h(){o(e,"class","text-xs text-text-tertiary px-3 py-2 bg-surface rounded-xl")},m(n,s){T(n,e,s),a(e,t),a(e,l),a(e,r)},p(n,s){s&4&&u!==(u=n[2].slice(0,8)+"")&&$(l,u)},d(n){n&&d(e)}}}function Ee(i){let e,t="æ–­å¼€è¿æ¥",u,l;return{c(){e=p("button"),e.textContent=t,this.h()},l(r){e=m(r,"BUTTON",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-aozrqb"&&(e.textContent=t),this.h()},h(){o(e,"class","btn-danger")},m(r,n){T(r,e,n),u||(l=j(e,"click",i[8]),u=!0)},p:R,d(r){r&&d(e),u=!1,l()}}}function Ie(i){let e,t="é‡æ–°è¿æ¥",u,l;return{c(){e=p("button"),e.textContent=t,this.h()},l(r){e=m(r,"BUTTON",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-11btx59"&&(e.textContent=t),this.h()},h(){o(e,"class","btn-primary")},m(r,n){T(r,e,n),u||(l=j(e,"click",i[7]),u=!0)},p:R,d(r){r&&d(e),u=!1,l()}}}function de(i){let e,t,u;return{c(){e=p("div"),t=p("p"),u=z(i[1]),this.h()},l(l){e=m(l,"DIV",{class:!0});var r=C(e);t=m(r,"P",{class:!0});var n=C(t);u=G(n,i[1]),n.forEach(d),r.forEach(d),this.h()},h(){o(t,"class","text-sm whitespace-pre-line"),o(e,"class","bg-danger/20 border border-danger/30 text-danger p-4 rounded-xl mb-6")},m(l,r){T(l,e,r),a(e,t),a(t,u)},p(l,r){r&2&&$(u,l[1])},d(l){l&&d(e)}}}function Be(i){let e,t='<div class="text-center"><p class="text-lg text-text-secondary mb-2">æœªè¿æ¥</p> <p class="text-sm text-text-tertiary">è¯·è¾“å…¥ User ID å¹¶è¿æ¥</p></div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(u){e=m(u,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-oh6fzp"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex items-center justify-center h-full")},m(u,l){T(u,e,l)},p:R,d(u){u&&d(e)}}}function Ce(i){let e,t,u,l,r,n,s=!i[6]&&!i[1]&&he();return{c(){e=p("img"),u=x(),s&&s.c(),l=ae(),this.h()},l(c){e=m(c,"IMG",{src:!0,alt:!0,class:!0}),u=w(c),s&&s.l(c),l=ae(),this.h()},h(){oe(e.src,t=i[0])||o(e,"src",t),o(e,"alt","å®æ—¶ç”Ÿæˆå›¾åƒ"),o(e,"class","w-full h-full object-contain")},m(c,h){T(c,e,h),T(c,u,h),s&&s.m(c,h),T(c,l,h),r||(n=[j(e,"load",i[9]),j(e,"error",i[10])],r=!0)},p(c,h){h&1&&!oe(e.src,t=c[0])&&o(e,"src",t),!c[6]&&!c[1]?s||(s=he(),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(c){c&&(d(e),d(u),d(l)),s&&s.d(c),r=!1,pe(n)}}}function he(i){let e,t='<div class="text-center"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"></div> <p class="text-text-secondary">ç­‰å¾…å›¾åƒæµ...</p></div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(u){e=m(u,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-114m409"&&(e.innerHTML=t),this.h()},h(){o(e,"class","absolute inset-0 flex items-center justify-center bg-black/50")},m(u,l){T(u,e,l)},d(u){u&&d(e)}}}function Ae(i){let e,t,u,l,r='<h1 class="title">ğŸ‘ï¸ æŸ¥çœ‹å™¨</h1> <p class="subtitle">å®æ—¶æŸ¥çœ‹ç”»æ¿ç”Ÿæˆçš„AIå›¾åƒç»“æœ</p>',n,s,c,h,F,k,b,M,y,U,_,v,H,A,S,J,q,Z,N,ee="<p>æç¤º: ç¡®ä¿ç”»æ¿åº”ç”¨å·²è¿æ¥å¹¶å¼€å§‹å‘é€ï¼Œå›¾åƒå°†å®æ—¶æ˜¾ç¤ºåœ¨è¿™é‡Œ</p>",D=i[5]&&ce(i),E=i[2]&&fe(i);function te(f,g){if(!f[0]&&!f[5])return Ie;if(f[0])return Ee}let O=te(i),I=O&&O(i),B=i[1]&&de(i);function ue(f,g){return f[0]&&f[2]?Ce:Be}let K=ue(i),V=K(i);return{c(){e=x(),t=p("main"),u=p("div"),l=p("div"),l.innerHTML=r,n=x(),s=p("div"),D&&D.c(),c=x(),h=p("div"),F=p("div"),k=p("div"),b=p("div"),y=x(),U=p("span"),_=z(i[4]),v=x(),E&&E.c(),H=x(),A=p("div"),I&&I.c(),S=x(),B&&B.c(),J=x(),q=p("div"),V.c(),Z=x(),N=p("div"),N.innerHTML=ee,this.h()},l(f){_e("svelte-1v8oqjv",document.head).forEach(d),e=w(f),t=m(f,"MAIN",{class:!0});var se=C(t);u=m(se,"DIV",{class:!0});var Q=C(u);l=m(Q,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-t0puq1"&&(l.innerHTML=r),n=w(Q),s=m(Q,"DIV",{class:!0});var L=C(s);D&&D.l(L),c=w(L),h=m(L,"DIV",{class:!0});var W=C(h);F=m(W,"DIV",{class:!0});var X=C(F);k=m(X,"DIV",{class:!0});var Y=C(k);b=m(Y,"DIV",{class:!0}),C(b).forEach(d),y=w(Y),U=m(Y,"SPAN",{class:!0});var le=C(U);_=G(le,i[4]),le.forEach(d),Y.forEach(d),v=w(X),E&&E.l(X),X.forEach(d),H=w(W),A=m(W,"DIV",{class:!0});var re=C(A);I&&I.l(re),re.forEach(d),W.forEach(d),S=w(L),B&&B.l(L),J=w(L),q=m(L,"DIV",{class:!0});var ne=C(q);V.l(ne),ne.forEach(d),Z=w(L),N=m(L,"DIV",{class:!0,"data-svelte-h":!0}),P(N)!=="svelte-3fzpkr"&&(N.innerHTML=ee),L.forEach(d),Q.forEach(d),se.forEach(d),this.h()},h(){document.title="å®æ—¶å›¾åƒç”ŸæˆæŸ¥çœ‹å™¨ - ArtFlow",o(l,"class","mb-6"),o(b,"class",M="status-dot "+(i[0]&&i[6]?"status-dot-online":"status-dot-offline")),o(U,"class","text-sm text-text-secondary"),o(k,"class","flex items-center gap-2 px-3 py-2 bg-surface rounded-xl"),o(F,"class","flex items-center gap-4"),o(A,"class","flex gap-2"),o(h,"class","flex items-center justify-between mb-6 pb-6 border-b border-border"),o(q,"class","relative w-full aspect-square bg-black rounded-2xl overflow-hidden border border-border shadow-large"),o(N,"class","mt-6 text-xs text-text-tertiary text-center"),o(s,"class","card"),o(u,"class","container mx-auto max-w-7xl px-4 py-6"),o(t,"class","min-h-screen bg-surface")},m(f,g){T(f,e,g),T(f,t,g),a(t,u),a(u,l),a(u,n),a(u,s),D&&D.m(s,null),a(s,c),a(s,h),a(h,F),a(F,k),a(k,b),a(k,y),a(k,U),a(U,_),a(F,v),E&&E.m(F,null),a(h,H),a(h,A),I&&I.m(A,null),a(s,S),B&&B.m(s,null),a(s,J),a(s,q),V.m(q,null),a(s,Z),a(s,N)},p(f,[g]){f[5]?D?D.p(f,g):(D=ce(f),D.c(),D.m(s,c)):D&&(D.d(1),D=null),g&65&&M!==(M="status-dot "+(f[0]&&f[6]?"status-dot-online":"status-dot-offline"))&&o(b,"class",M),g&16&&$(_,f[4]),f[2]?E?E.p(f,g):(E=fe(f),E.c(),E.m(F,null)):E&&(E.d(1),E=null),O===(O=te(f))&&I?I.p(f,g):(I&&I.d(1),I=O&&O(f),I&&(I.c(),I.m(A,null))),f[1]?B?B.p(f,g):(B=de(f),B.c(),B.m(s,J)):B&&(B.d(1),B=null),K===(K=ue(f))&&V?V.p(f,g):(V.d(1),V=K(f),V&&(V.c(),V.m(q,null)))},i:R,o:R,d(f){f&&(d(e),d(t)),D&&D.d(),E&&E.d(),I&&I.d(),B&&B.d(),V.d()}}}function ke(i,e,t){let u="",l="",r=null,n="",s="æœªè¿æ¥",c=!0,h=!1;Fe(()=>{const S=new URLSearchParams(window.location.search).get("userId");S&&(t(3,n=S),t(5,c=!1),F())});function F(){if(!n.trim()){t(1,l="è¯·è¾“å…¥ç”»æ¿åº”ç”¨çš„ User ID");return}t(2,r=n.trim()),t(4,s="æ­£åœ¨è¿æ¥..."),t(1,l=""),t(6,h=!1),_();const A=window.location.protocol==="https:"?"https:":"http:";t(0,u=`${A}//${window.location.host}/api/stream/${r}`),U()}function k(){t(0,u=""),t(2,r=null),t(4,s="æœªè¿æ¥"),t(1,l=""),t(6,h=!1),_()}ve(()=>{_()});function b(){t(6,h=!0),t(1,l=""),t(4,s="å·²è¿æ¥ - æ­£åœ¨æ¥æ”¶å›¾åƒ"),_()}function M(){t(1,l=`æ— æ³•åŠ è½½å›¾åƒæµã€‚è¯·ç¡®ä¿ï¼š
1. ç”»æ¿åº”ç”¨å·²è¿æ¥æœåŠ¡å™¨ï¼ˆæ˜¾ç¤º"å·²è¿æ¥"çŠ¶æ€ï¼‰
2. ç”»æ¿åº”ç”¨å·²ç‚¹å‡»"å¼€å§‹å‘é€"æŒ‰é’®
3. User ID æ­£ç¡®ï¼ˆä»ç”»æ¿åº”ç”¨å¤åˆ¶ï¼‰
4. ç”»æ¿åº”ç”¨æ­£åœ¨ç»˜åˆ¶å†…å®¹ï¼ˆç©ºç™½ç”»å¸ƒå¯èƒ½ä¸ä¼šå‘é€ï¼‰`),t(4,s="è¿æ¥é”™è¯¯"),t(6,h=!1)}let y=null;function U(){y&&clearTimeout(y),y=setTimeout(()=>{!h&&u&&r&&(t(1,l=`å›¾åƒæµåŠ è½½è¶…æ—¶ã€‚è¯·æ£€æŸ¥ï¼š
1. ç”»æ¿åº”ç”¨æ˜¯å¦å·²ç‚¹å‡»"å¼€å§‹å‘é€"æŒ‰é’®
2. ç”»æ¿åº”ç”¨æ˜¯å¦æ­£åœ¨ç»˜åˆ¶å†…å®¹
3. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

å¦‚æœé—®é¢˜æŒç»­ï¼Œè¯·å°è¯•ï¼š
- æ–­å¼€å¹¶é‡æ–°è¿æ¥
- æ£€æŸ¥ç”»æ¿åº”ç”¨çš„æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯`),t(4,s="è¿æ¥è¶…æ—¶"))},3e4)}function _(){y&&(clearTimeout(y),y=null)}function v(){n=this.value,t(3,n)}return[u,l,r,n,s,c,h,F,k,b,M,v,A=>{A.key==="Enter"&&F()}]}class xe extends be{constructor(e){super(),De(this,e,ke,Ae,me,{})}}export{xe as component};
